<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    <style>
        body { margin: 0; overflow: hidden; font-family: 'Arial', sans-serif; color: white; text-transform: uppercase; }
        
        /* КОНТЕЙНЕР ТАБЛО */
        #scoreboard {
            position: relative;
            width: 800px; /* Настрой под свой дизайн */
            height: 150px;
            margin: 20px;
            background: rgba(0,0,0,0.5); /* Тут будет твоя картинка-фон */
            display: flex;
            align-items: center;
            justify-content: space-around;
            border-radius: 10px;
        }

        .team { width: 200px; text-align: center; font-weight: bold; font-size: 24px; }
        .score { font-size: 48px; font-weight: 900; min-width: 100px; text-align: center; }
        .timer-box { text-align: center; }
        .period { font-size: 18px; color: #ccc; }

        /* ЛОГОТИП ПО ЦЕНТРУ */
        .logo-center {
            width: 60px;
            height: 60px;
            background: url('ТВОЕ_ЛОГО.png') no-repeat center/contain;
        }

        .color-strip { height: 5px; width: 100%; position: absolute; bottom: 0; }
    </style>
</head>
<body>

    <div id="scoreboard">
        <div id="stripHome" class="color-strip" style="left:0; width:50%;"></div>
        <div id="stripAway" class="color-strip" style="right:0; width:50%;"></div>

        <div class="team" id="displayHomeName">HOME</div>
        <div class="score"><span id="displayHomeScore">0</span> : <span id="displayAwayScore">0</span></div>
        <div class="logo-center"></div>
        <div class="team" id="displayAwayName">AWAY</div>
        
        <div class="timer-box">
            <div id="displayTimer">00:00</div>
            <div class="period">Period: <span id="displayPeriod">1</span></div>
        </div>
    </div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyClxwTPMqybIpYEllgyL6_H5an_1N05kzM",
            authDomain: "scoreboard-6f187.firebaseapp.com",
            databaseURL: "https://scoreboard-6f187-default-rtdb.firebaseio.com",
            projectId: "scoreboard-6f187",
            storageBucket: "scoreboard-6f187.firebasestorage.app",
            messagingSenderId: "357357389212",
            appId: "1:357357389212:web:c1f13292a9ec0745afb459"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        // Слушаем изменения в базе
        db.ref('match').on('value', (snapshot) => {
            const data = snapshot.val();
            if (!data) return;

            document.getElementById('displayHomeName').innerText = data.homeName || 'HOME';
            document.getElementById('displayAwayName').innerText = data.awayName || 'AWAY';
            document.getElementById('displayHomeScore').innerText = data.homeScore || 0;
            document.getElementById('displayAwayScore').innerText = data.awayScore || 0;
            document.getElementById('displayPeriod').innerText = data.period || 1;
            
            document.getElementById('stripHome').style.backgroundColor = data.homeColor;
            document.getElementById('stripAway').style.backgroundColor = data.awayColor;
            
            // Время (упрощенная логика отображения)
            let m = data.timer.minutes;
            let s = data.timer.seconds;
            document.getElementById('displayTimer').innerText =
                (m < 10 ? '0' + m : m) + ':' + (s < 10 ? '0' + s : s);
        });

        // Логика тиканья таймера (только на стороне табло для плавности)
        setInterval(() => {
            db.ref('match/timer').once('value', snapshot => {
                let t = snapshot.val();
                if (t && t.running) {
                    let totalSec = t.minutes * 60 + t.seconds + 1;
                    db.ref('match/timer').update({
                        minutes: Math.floor(totalSec / 60),
                        seconds: totalSec % 60
                    });
                }
            });
        }, 1000);
    </script>
</body>
</html>

