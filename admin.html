<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Scoreboard Admin</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    <style>
        body { font-family: sans-serif; background: #222; color: white; padding: 20px; }
        .card { background: #333; padding: 15px; border-radius: 10px; margin-bottom: 10px; }
        input, button { padding: 10px; margin: 5px; font-size: 16px; border-radius: 5px; border: none; }
        button { cursor: pointer; background: #4CAF50; color: white; }
        button.red { background: #f44336; }
        .flex { display: flex; gap: 10px; align-items: center; }
    </style>
</head>
<body>
    <h2>Управление табло</h2>
    
    <div class="card">
        <h3>Команды и цвета</h3>
        <input type="text" id="teamHome" placeholder="Хозяева (10 зн)" maxlength="10">
        <input type="color" id="colorHome" value="#ff0000">
        <br>
        <input type="text" id="teamAway" placeholder="Гости (10 зн)" maxlength="10">
        <input type="color" id="colorAway" value="#0000ff">
        <br>
        <button onclick="updateTeams()">Обновить команды</button>
    </div>

    <div class="card">
        <h3>Счет</h3>
        <div class="flex">
            <div>Хозяева: <button onclick="changeScore('home', 1)">+1</button><button class="red" onclick="changeScore('home', -1)">-1</button></div>
            <div>Гости: <button onclick="changeScore('away', 1)">+1</button><button class="red" onclick="changeScore('away', -1)">-1</button></div>
        </div>
    </div>

    <div class="card">
        <h3>Таймер и Период</h3>
        <button onclick="setTimer(20)">20 мин</button>
        <button onclick="setTimer(25)">25 мин</button>
        <button id="startBtn" onclick="toggleTimer()">Старт/Пауза</button>
        <button class="red" onclick="resetTimer()">Сброс</button>
        <br><br>
        Период: <button onclick="setPeriod(1)">1</button> <button onclick="setPeriod(2)">2</button>
    </div>

    <script>
        // ТВОЙ КОНФИГ
        const firebaseConfig = {
            apiKey: "AIzaSyClxwTPMqybIpYEllgyL6_H5an_1N05kzM",
            authDomain: "scoreboard-6f187.firebaseapp.com",
            databaseURL: "https://scoreboard-6f187-default-rtdb.firebaseio.com",
            projectId: "scoreboard-6f187",
            storageBucket: "scoreboard-6f187.firebasestorage.app",
            messagingSenderId: "357357389212",
            appId: "1:357357389212:web:c1f13292a9ec0745afb459"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();

        function updateTeams() {
            db.ref('match').update({
                homeName: document.getElementById('teamHome').value,
                awayName: document.getElementById('teamAway').value,
                homeColor: document.getElementById('colorHome').value,
                awayColor: document.getElementById('colorAway').value
            });
        }

        function changeScore(team, val) {
            db.ref('match/' + team + 'Score').transaction(s => (s || 0) + val);
        }

        function setPeriod(p) { db.ref('match/period').set(p); }

        function setTimer(m) { db.ref('match/timer').update({ minutes: m, seconds: 0, running: false }); }

        function toggleTimer() {
            db.ref('match/timer/running').transaction(r => !r);
        }

        function resetTimer() {
            db.ref('match/timer').update({ minutes: 0, seconds: 0, running: false });
        }
    </script>
</body>
</html>

